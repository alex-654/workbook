## Builder на примере YII

Строитель — это порождающий паттерн проектирования, который позволяет создавать сложные объекты пошагово. Строитель даёт
возможность использовать один и тот же код строительства для получения разных представлений объектов.

В YII есть Query объект, который позволяет строить разнообразные SQL запросы

```php
        $userOrders = Order::find() // Query объект
            ->andWhere(['delivery_id' => $deliveryId]) // методы строителя
            ->andWhere(['status' => $status])
            ->innerJoinWith(['orderPropertyGroupOrder'])
            ->orderBy('status desc')
            ->all(); // метод для получения результата за которым скрывается много интересного
```

```php
    public function all($db = null)
    {
        $rows = $this->createCommand($db)->queryAll();

        return $this->populate($rows);
    }
```

Внутри метода создания команды есть еще один объект/билдер.
Нужный билдер берется из объекта БД.
И строится на основе данных сохраненных в объекте Query, но с учетом нюансов подключенной БД.

```php
    /**
     * Creates a DB command that can be used to execute this query.
     * @param Connection|null $db the database connection used to generate the SQL statement.
     * If this parameter is not given, the `db` application component will be used.
     * @return Command the created DB command instance.
     */
    public function createCommand($db = null)
    {
        if ($db === null) {
            $db = Yii::$app->getDb();
        }
        list($sql, $params) = $db->getQueryBuilder()->build($this);

        $command = $db->createCommand($sql, $params);
        $this->setCommandCache($command);

        return $command;
    }
```

## Фабричный метод

Для чего - поведение объектов одинаковое, но их много разных, с разными условиями для создания объектов.
В клиент передаем базовый класс или интерфейс таким образом соблюдай O из SOLID.

## Прототип

в PHP реализован по дефолту через __clone

## Адаптер

Структурный паттерн проектирования, который позволяет объектам с несовместимыми интерфейсами работать вместе.
Адаптер – класс, который связывает Целевой интерфейс и Адаптируемый класс

## Мост

Cтруктурный паттерн проектирования, который разделяет один или несколько классов на две отдельные иерархии — абстракцию
и реализацию, позволяя изменять их независимо друг от друга.

## Декоратор

Декоратор имеет альтернативное название — обёртка. Оно более точно описывает суть паттерна: вы помещаете целевой объект
в другой объект-обёртку, который запускает базовое поведение объекта, а затем добавляет к результату что-то своё.

## Фасад

Структурный паттерн проектирования, который предоставляет простой интерфейс к сложной системе классов, библиотеке или
фреймворку.

## Стратегия и Состояние

Состояние можно рассматривать как надстройку над Стратегией. Оба паттерна используют композицию, чтобы менять поведение
основного объекта, делегируя работу вложенным объектам-помощникам. Однако в Стратегии эти объекты не знают друг о друге
и никак не связаны. В Состоянии сами конкретные состояния могут переключать контекст.
Как альтернатива вместо передачи состояния/стратегии в виде класса, можно использовать callback функции.
